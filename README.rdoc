# Hoome

# TODO
 - lag en plan med milep√¶ler og inviter martin og hubert

## Goals for the Alpha version

* A vendor can add his own products
* A vendor can only access /admin/products. The rest of the admin interface is hidden.
* The admin gets an email when a product is sold. He then emails the vendor regarding which product is sold to whom.
  The vendor prepares the product and informs the admin that it's ready to be picked up.
  The admin transfers the money the customer payed, to the vendor 14 days after the product is delivered to the customer.
* A vendor should only see orders made to his products.

### Install
This is how one installs Spree to a new Rails app.
```
bundle
rake db:create
rake railties:install:migrations
rake db:migrate
rails g spree:install --sample=false

```

**Create a vendor role**
```
$ r c
Spree::Role.create(name: 'vendor')
```

Add the vendor role to a user. This can be done throught the web interface.
Update the user with correct stock_location:

  %w(illum tannum).each do |vendor|
    vendor = Spree::User.where(email: "#{vendor}@#{vendor}.no").first
    location = Spree::StockLocation.where(name: vendor)
    vendor.stock_locations << location
    vendor.save
  end


Remember to generate an API key for that user too.


rails server

*Admin account*
user: admin@example.com
password: test123


## Solidus

Customice the app by modifiying config/initializers/spree.rb

### Howto add custom permission sets
See http://stackoverflow.com/questions/34980121/howto-add-a-new-role-with-a-custom-permission-set-for-solidus-spree/34982756#34982756


## We're extending the 1.2 version of Solidus.
To work directly agains that version do:
`git clone -b v1.2.0 git@github.com:solidusio/solidus.git solidus`
Point Gemfile to this directory
